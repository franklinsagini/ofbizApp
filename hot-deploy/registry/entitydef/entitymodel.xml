<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
	<!-- ========================================================= -->
	<!-- ======================== Defaults ======================= -->
	<!-- ========================================================= -->
	<title>Entity of Registry Component</title>
	<description>None</description>
	<copyright></copyright>
	<version></version>
	<!-- Registry Employer Entity -->
	<!-- entity entity-name="Employer" package-name="org.ofbiz.registry" title="Registry
		Employer Entity"> <field name="employerId" type="id-ne"></field> <field name="employerName"
		type="name"></field> <prim-key field="employerId" /> </entity -->




	<!-- Registry File Type Entity -->
	<entity entity-name="RegistryFileType" package-name="org.ofbiz.registry"
		title="File Types">
		<field name="fileTypeId" type="id-ne"></field>
		<field name="fileType" type="name" not-null="true"></field>
		<field name="description" type="description"></field>
		<prim-key field="fileTypeId" />
	</entity>

	<entity entity-name="RegistryFiles" package-name="org.ofbiz.registry"
		title="Member File Book">
		<field name="fileId" type="id-ne"></field>
		<field name="partyId" type="id-ne"></field>
		<field name="folioNo" type="name"></field>
		<field name="status" type="name" ></field>
		<field name="creator" type="id-ne"></field>
		<field name="fileLocation" type="name"></field>
		<field name="creationDate" type="date-time"></field>
		<prim-key field="fileId" />
		<prim-key field="partyId" />
		<relation type="one" fk-name="FILE_MEMBER" rel-entity-name="Member">
			<key-map field-name="partyId" />
		</relation>
		<relation type="one" fk-name="FILE_CREATOR_PERSONS" title="Creator" rel-entity-name="Person">
        	<key-map field-name="creator" rel-field-name="partyId"/>
	     </relation>
	</entity>

	<entity entity-name="RegistryDocuments" package-name="org.ofbiz.registry"
		title="Member Documents">
		<field name="documentId" type="id-ne"></field>
		<field name="fileTypeId" type="id-ne"></field>
		<field name="fileId" type="id-ne" ></field>
		<field name="referenceNo" type="name" ></field>
		<field name="documentValue" type="currency-amount" ></field>
		<field name="receiptDate" type="date-time"></field>
		<prim-key field="documentId" />
		<prim-key field="fileId" />
		<relation type="one" fk-name="DOCUMENT_FILE" rel-entity-name="RegistryFiles">
			<key-map field-name="fileId" />
		</relation>
	</entity>

	<entity entity-name="RegistryFileLocations" package-name="org.ofbiz.registry"
		title="Member Files">
		<field name="locationId" type="id-ne"></field>
		<field name="fileLocation" type="name" not-null="true"></field>
		<field name="description" type="description" not-null="true"></field>
		<prim-key field="locationId" />

	</entity>

	<entity entity-name="RegistryFilesRequest" package-name="org.ofbiz.registry"
		title="Member Files">
		<field name="requestId" type="id"></field>
		<field name="fileId" type="id" ></field>
		<field name="requester" type="name"></field>
		<field name="requestDate" type="date-time"></field>
		<prim-key field="requestId" />
		<prim-key field="fileId" />
		<relation type="one" fk-name="REQUEST_FILE" rel-entity-name="RegistryFiles">
			<key-map field-name="fileId" />
		</relation>
	</entity>

	<entity entity-name="RegistryFileIssue" package-name="org.ofbiz.registry"
		title="Member Files">
		<field name="fileIssueId" type="id"></field>
		<field name="requestId" type="id"></field>
		<field name="fileId" type="name" not-null="true"></field>
		<field name="issuedBy" type="name"></field>
		<field name="issueDate" type="date-time"></field>
		<prim-key field="fileIssueId" />
		<prim-key field="requestId" />
		<relation type="one" fk-name="FILEISSUE_FILES" rel-entity-name="RegistryFiles">
			<key-map field-name="fileId" />
		</relation>
		<relation type="one" fk-name="FILEISSUE_FILEREQUEST" rel-entity-name="RegistryFilesRequest">
			<key-map field-name="requestId" />
		</relation>
	</entity>

	<entity entity-name="RegistryFileRelease" package-name="org.ofbiz.registry"
		title="Member Files">
		<field name="releaseId" type="id"></field>
		<field name="fileIssueId" type="id"></field>
		<field name="fileId" type="name" not-null="true"></field>
		<field name="releasedBy" type="name"></field>
		<field name="releaseDate" type="date-time"></field>
		<prim-key field="releaseId" />
		<prim-key field="fileIssueId" />
		<relation type="one" fk-name="FILERELEASE_FILE" rel-entity-name="RegistryFiles">
			<key-map field-name="fileId" />
		</relation>
		<relation type="one" fk-name="FILERELEASE_FILEISSUE" rel-entity-name="RegistryFileIssue">
			<key-map field-name="fileIssueId" />
		</relation>
	</entity>



	<!-- -->
</entitymodel>



