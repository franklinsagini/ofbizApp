<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">
	<!-- The controller elements that are common to all OFBiz components can
		be found in the following xml file. A component can override the elements
		found in the common-controller.xml file. -->
	<include location="component://common/webcommon/WEB-INF/common-controller.xml" />

	<description>Registry Component Site Configuration File</description>

	<!-- Events to run on every request before security (chains exempt) -->
	<!-- <preprocessor> </preprocessor> -->
	<!-- Events to run on every request after all other processing (chains exempt) -->
	<!-- <postprocessor> <event name="test" type="java" path="org.ofbiz.webapp.event.TestEvent"
		invoke="test"/> </postprocessor> -->

	<!-- Request Mappings -->

	<request-map uri="editlocation">
		<security https="true" auth="true" />
		<response name="success" type="view" value="editlocation" />
	</request-map>

	<request-map uri="updatelocationsURL">
		<security https="true" auth="true" />
		<response name="success" type="view" value="editfilelocation" />
	</request-map>


	<request-map uri="editfiletypeURL">
		<security https="true" auth="true" />
		<response name="success" type="view" value="editfiletypeURL" />
	</request-map>



	<request-map uri="editfiles">
		<security https="true" auth="true" />
		<response name="success" type="view" value="editfiles" />
	</request-map>
	
	<request-map uri="editFileAction">
		<security https="true" auth="true" />
		<response name="success" type="view" value="editFileAction" />
	</request-map>
	
	<request-map uri="afterAction">
		<security https="true" auth="true" />
		<response name="success" type="view" value="afterAction" />
	</request-map>


	<request-map uri="editfileURL">
		<security https="true" auth="true" />
		<response name="success" type="view" value="editfile" />
	</request-map>

	<request-map uri="main">
		<security https="true" auth="true" />
		<response name="success" type="view" value="main" />
	</request-map>

	<request-map uri="reqfileURL">
		<security https="true" auth="true" />
		<response name="success" type="view" value="reqfile" />
	</request-map>

	

 	<request-map uri="findmember">
        <security https="true" auth="true" />
        <response name="success" type="view" value="FindMemberScreen" save-current-view="true" />
    </request-map>
    
     <request-map uri="LookupActiveMember"><security https="true" auth="true"/>
     	<response name="success" type="view" value="LookupActiveMember"/>
     </request-map>





<!-- file location -->

	<request-map uri="createfilelocation">
		<security https="true" auth="true" />
		<event type="service" path="" invoke="createfilelocation" />
		<response name="success" type="view" value="editlocation" />
		<response name="error" type="view" value="editlocation" />
	</request-map>

	<request-map uri="updatefilelocation">
		<security https="true" auth="true" />
		<event type="service" invoke="updatefilelocation" />
		<response name="success" type="request-redirect" value="editlocation">
			<redirect-parameter name="locationId" />
		</response>
		<response name="error" type="view" value="editlocation" />
	</request-map>

	<request-map uri="deletefilelocation">
		<security https="true" auth="true" />
		<event type="service" invoke="deletefilelocation" />
		<response name="success" type="request-redirect-noparam"
			value="editlocation"></response>
		<response name="error" type="view" value="editlocation" />
	</request-map>


	<!-- File type -->


	<request-map uri="createfiletype">
		<security https="true" auth="true" />
		<event type="service" path="" invoke="createfiletype" />
		<response name="success" type="view" value="editfiletypeURL" />
		<response name="error" type="view" value="editfiletypeURL" />
	</request-map>

	<request-map uri="updatefileType">
		<security https="true" auth="true" />
		<event type="service" invoke="updatefileType" />
		<response name="success" type="request-redirect" value="editfiletypeURL">
			<redirect-parameter name="fileTypeId" />
		</response>
		<response name="error" type="view" value="editfiletypeURL" />
	</request-map>

	<request-map uri="deletefileType">
		<security https="true" auth="true" />
		<event type="service" invoke="deletefileType" />
		<response name="success" type="request-redirect-noparam"
			value="editfiletypeURL"></response>
		<response name="error" type="view" value="editfiletypeURL" />
	</request-map>

	<!-- Files -->



	<request-map uri="creatememberFiles">
		<security https="true" auth="true" />
		<event type="service" path="" invoke="creatememberFiles" />
		<response name="success" type="view" value="editfiles" />
		<response name="error" type="view" value="editfiles" />
	</request-map>


	<request-map uri="updateFiles">
		<security https="true" auth="true" />
		<event type="service" invoke="updateFiles" />
		<response name="success" type="request-redirect" value="editfiles">
			<redirect-parameter name="fileId" />
		</response>
		<response name="error" type="view" value="editfiles" />
	</request-map>



	<request-map uri="requestfiles">
		<security https="true" auth="true" />
		<event type="service" path="" invoke="requestfiles" />
		<response name="success" type="view" value="afterAction" />
		<response name="error" type="view" value="afterAction" />
	</request-map>

	
	
	<request-map uri="LookupActiveMember">
	<security https="true" auth="true"/>
	<response name="success" type="view" value="LookupActiveMember"/>
	</request-map>
	
	<request-map uri="createfileActionTypes">
		<security https="true" auth="true" />
		<event type="service" path="" invoke="createfileActionTypes" />
		<response name="success" type="view" value="editFileAction" />
		<response name="error" type="view" value="editFileAction" />
	</request-map>
	
	<request-map uri="updatefileActionTypes">
		<security https="true" auth="true" />
		<event type="service" invoke="updatefileActionTypes" />
		<response name="success" type="request-redirect" value="editFileAction">
			<redirect-parameter name="fileActionTypeId" />
		</response>
		<response name="error" type="view" value="editFileAction" />
	</request-map>
	
	<request-map uri="deletefileActionTypes">
		<security https="true" auth="true" />
		<event type="service" invoke="deletefileActionTypes" />
		<response name="success" type="request-redirect-noparam"
			value="editFileAction"></response>
		<response name="error" type="view" value="editFileAction" />
	</request-map>
	







	<!-- documents -->



<request-map uri="createDocument">
		<security https="true" auth="true" />
		<event type="service" path="" invoke="createDocument" />
		<response name="success" type="view" value="editfile" />
		<response name="error" type="view" value="editfile" />
	</request-map>

	<!-- File Overview -->
    <request-map uri="fileoverviewURL">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="fileOverviewViewMap"/>
    </request-map>

 		<!-- View Maps -->
	<view-map name="editfiletypeURL" type="screen" page="component://registry/widget/FileScreens.xml#filetype" />
	<view-map name="editfiles" type="screen" page="component://registry/widget/FileScreens.xml#files" />
	<view-map name="editfile" type="screen" page="component://registry/widget/FileScreens.xml#documents" />
	<view-map name="findfiles" type="screen" page="component://registry/widget/FileScreens.xml#FindFile" />
	<view-map name="reqfile" type="screen" page="component://registry/widget/FileScreens.xml#requestfile" />
	<view-map name="FindMemberScreen" type="screen" page="component://registry/widget/FileScreens.xml#FindMemberScreen"/>
	<view-map name="main" type="screen"	page="component://registry/widget/FileScreens.xml#main" />
	<view-map name="editlocation" type="screen"	page="component://registry/widget/FileScreens.xml#filelocation" />
	<view-map name="editFileAction" type="screen" page="component://registry/widget/FileScreens.xml#fileActionTypeScreen" />
	<view-map name="afterAction" type="screen" page="component://registry/widget/FileScreens.xml#afterrequestfile" />

	<!-- File Overview  -->
	<view-map name="fileOverviewViewMap" type="screen" page="component://registry/widget/FileScreens.xml#RegistryFilesOverviewScreen"/>
	
	<!-- Lookup Active Memeber Viewmap -->
	<view-map name="LookupActiveMember" type="screen" page="component://purchases/widget/LookupScreens.xml#LookupActiveMember"/>



</site-conf>
