<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">



	<screen name="CommonFilesDecorator">
		<section>
			<actions>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<section>
									<condition>
										<not>
											<if-empty field="parameters.fileId" />
										</not>
									</condition>
									<widgets>
										<container style="leftclear">
											<include-menu name="FileSubTabBar2"
												location="component://registry/widget/RegistryMenus.xml" />
											<label style="h1"
												text="Request File:- ${RegistryFilesRequest.fileId} (Folio Number:- ${RegistryFilesRequest.folioNo})" />
										</container>
									</widgets>
								</section>
								<decorator-section-include name="body" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="CommonFilesupdateDecorator">
		<section>
			<actions>
				<property-map resource="AccountingUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="headerItem" value="files" />
				<set field="fileId" from-field="RegistryFiles.fileId"
					default-value="${parameters.fileId}" />
				<entity-one entity-name="RegistryFiles" value-field="FilesContext" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<section>
									<condition>
										<not>
											<if-empty field="parameters.fileId" />
										</not>
									</condition>
									<widgets>
										<container style="leftclear">
											<include-menu name="FileUpdateTabBar"
												location="component://registry/widget/RegistryMenus.xml" />
											<label style="h1"
												text="Update File:- ${fileId} (Folio Number:- ${FilesContext.folioNo})" />
										</container>
									</widgets>
								</section>
								<decorator-section-include name="body" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>





	<screen name="CommonFilereqDecorator">
		<section>
			<actions>
				<set field="headerItem" value="ListFiles" />
				<set field="folioNo" from-field="FilesContext.folioNo"
					default-value="${parameters.folioNo}" />
					<set field="fileId" from-field="RegistryFiles.fileId"
					default-value="${parameters.fileId}" />
				<entity-one entity-name="RegistryFiles" value-field="FilesContext" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">

					<decorator-section name="body">
						<section>
							<widgets>
								<section>
									<condition>
										<not>
											<if-empty field="parameters.fileId" />
										</not>
									</condition>
									<widgets>
										<include-menu name="FilereqTabBar"
											location="component://registry/widget/RegistryMenus.xml" />
										<label style="h1"
												text="File:- ${fileId} (Folio Number:- ${folioNo}) Successfully Requested" />
									</widgets>
								</section>
								<decorator-section-include name="body" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="CommonFileissueDecorator">
		<section>
			<actions>
				<set field="headerItem" value="ListFiles" />
				<set field="folioNo" from-field="issuefileContext.folioNo"
					default-value="${parameters.folioNo}" />
					<set field="fileId" from-field="RegistryFiles.fileId"
					default-value="${parameters.fileId}" />
				<entity-one entity-name="RegistryFiles" value-field="issuefileContext" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">

					<decorator-section name="body">
						<section>
							<widgets>
								<section>
									<condition>
										<not>
											<if-empty field="parameters.fileId" />
										</not>
									</condition>
									<widgets>
										<include-menu name="FilereqTabBar"
											location="component://registry/widget/RegistryMenus.xml" />
										<label style="h1"
												text="File:- ${fileId} (Folio Number:- ${folioNo}) Successfully Issued" />
									</widgets>
								</section>
								<decorator-section-include name="body" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="CommonFilereleaseDecorator">
		<section>
			<actions>
				<set field="headerItem" value="ListFiles" />
				<set field="folioNo" from-field="releasefileContext.FolioNo"
					default-value="${parameters.folioNo}" />
					<set field="fileId" from-field="RegistryFiles.fileId"
					default-value="${parameters.fileId}" />
				<entity-one entity-name="RegistryFiles" value-field="releasefileContext" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">

					<decorator-section name="body">
						<section>
							<widgets>
								<section>
									<condition>
										<not>
											<if-empty field="parameters.fileId" />
										</not>
									</condition>
									<widgets>
										<include-menu name="FilereqTabBar"
											location="component://registry/widget/RegistryMenus.xml" />
										<label style="h1"
												text="File:- ${fileId} (Folio Number:- ${folioNo}) Successfully Released" />
									</widgets>
								</section>
								<decorator-section-include name="body" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

<screen name="main">
		<section>
			<actions>
				<set field="headerItem" value="main" />
				<set field="tabButtonItem" value="find" />
				<set field="titleProperty" value="PageTitleFindInvoice" />
				<set field="findFileCtx" from-field="parameters" />
				<set field="partyId" from-field="parameters.partyId"/>
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Search File">
									<include-form name="FindMemberfiles" location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="File List (Search Results)">
									<include-form name="listmembersfiles" location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>






	<screen name="filetype">
		<section>
			<actions>
				<set field="titleProperty" value="file type" />
				<set field="headerItem" value="addfiletype" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createfiletype" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryFileType" value-field="filetypeContext" />
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Create File Type">
									<include-form name="EditFileTypeForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="File Types List">
									<include-form name="FileTypeListForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="FindMemberScreen">
        <section>
            <actions>
                <set field="headerItem" value="members"/><!-- this highlights the selected menu-item with name "suppliers" -->
                <set field="tabButtonItem" value="find"/>
                <set field="membersCtx" from-field="parameters" />
            </actions>
            <widgets>
                <decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                            <decorator-section name="menu-bar">
                                <include-menu name="SupplierSubTabBar" location="component://purchases/widget/PurchasesMenus.xml"/>
                                <container style="clear"/>
                            </decorator-section>
                            <decorator-section name="search-options">
                                <include-form name="FindMemberForm" location="component://registry/widget/FileForms.xml" />
                            </decorator-section>
                            <decorator-section name="search-results">
                                <include-form name="ListMemberForm" location="component://registry/widget/FileForms.xml" />
                            </decorator-section>
                        </decorator-screen>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>




	<screen name="files">
		<section>
			<actions>
				<set field="titleProperty" value="Files" />
				<set field="headerItem" value="fileheader" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="creatememberFiles" />
				<set field="fileId" from-field="parameters.fileId" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryFiles" value-field="FilesContext" />
			</actions>
			<widgets>
				<decorator-screen name="CommonFilesupdateDecorator"
					location="component://registry/widget/FileScreens.xml">
					<decorator-section name="pre-body">
						<section>
							<widgets>
								<include-menu name="FileSubTabBar"
									location="component://registry/widget/RegistryMenus.xml" />
							</widgets>
						</section>
					</decorator-section>

					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Create A File For A member">
									<include-form name="EditFilesForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="Files List">
									<include-form name="FilesListForm" location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="documents">
		<section>
			<actions>
				<set field="titleProperty" value="files" />
				<set field="headerItem" value="addfile" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createDocument" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryDocuments" value-field="FileContext" />
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Create A Document">
									<include-form name="EditDocumentForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="Documents List">
									<include-form name="documentListForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="requestfile">
		<section>
			<actions>
				<set field="titleProperty" value="File Books" />
				<set field="headerItem" value="reqfile" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="requestfiles" />
				<set field="fileId" from-field="parameters.fileId" />
				<set field="folioNo" from-field="parameters.folioNo" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryFilesRequest" value-field="requestfileContext" />
			</actions>
			<widgets>
				<decorator-screen name="CommonFilereqDecorator"
					location="component://registry/widget/FileScreens.xml">

					<decorator-section name="body">
						<section name="search-results">
							<widgets>
								<screenlet title="Requested Files List">
									<include-form name="RequestedFileListForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="issuefileresponse">
		<section>
			<actions>
				<set field="titleProperty" value="File Books" />
				<set field="headerItem" value="reqfile" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="requestfiles" />
				<set field="fileId" from-field="parameters.fileId" />
				<set field="folioNo" from-field="parameters.folioNo" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryFilesRequest" value-field="requestfileContext" />
			</actions>
			<widgets>
				<decorator-screen name="CommonFileissueDecorator"
					location="component://registry/widget/FileScreens.xml">

					<decorator-section name="body">
						<section name="search-results">
							<widgets>
								<screenlet title="Issued Files List">
									<include-form name="IssuedFileListForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="releasefilerespons">
		<section>
			<actions>
				<set field="titleProperty" value="File Books" />
				<set field="headerItem" value="reqfile" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="requestfiles" />
				<set field="fileId" from-field="parameters.fileId" />
				<set field="folioNo" from-field="parameters.folioNo" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryFilesRequest" value-field="requestfileContext" />
			</actions>
			<widgets>
				<decorator-screen name="CommonFilereleaseDecorator"
					location="component://registry/widget/FileScreens.xml">

					<decorator-section name="body">
						<section name="search-results">
							<widgets>
								<screenlet title="Released Files List">
									<include-form name="releasedFileListForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>







	<screen name="FindFileScreen">
		<section>
			<actions>
				<set field="headerItem" value="home" />
				<set field="tabButtonItem" value="find" />
				<set field="titleProperty" value="PageTitleFindInvoice" />
				<set field="findFileCtx" from-field="parameters" />
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Search File">
									<include-form name="FindMemberfiles"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="Search Results">
									<include-form name="listmembersfiles"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>


	</screen>

	<screen name="lookupfilelocation">
		<section>
			<!-- condition> <if-service-permission service-name="catalogPermissionCheck"
				main-action="VIEW"/> </condition -->
			<actions>
				<!-- property-map resource="ProductUiLabels" map-name="uiLabelMap" global="true"/ -->
				<set field="title" value="Files Search" />
				<set field="queryString" from-field="result.queryString" />
				<set field="entityName" value="RegistryFiles" />
			</actions>
			<widgets>
				<decorator-screen name="lookupfilelocation"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="search-options">
						<include-form name="Lookupfilelocation"
							location="component://registry/widget/FileForms.xml" />
					</decorator-section>
					<decorator-section name="search-results">
						<include-form name="listLookupfilelocation"
							location="component://registry/widget/FileForms.xml" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>




	<screen name="lookupfilelocatidsdon">
		<section>
			<actions>
				<set field="title" value="Files Search" />
				<set field="queryString" from-field="result.queryString" />
				<set field="entityName" value="RegistryFiles" />
			</actions>
			<widgets>
				<decorator-screen name="findfilelookuplocation"
					location="component://registry/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Find File">
									<include-form name="Lookupfilelocation"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="File List">
									<include-form name="listLookupfilelocation"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="filelocation">
		<section>
			<actions>
				<set field="titleProperty" value="files" />
				<set field="headerItem" value="addlocations" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createfilelocation" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				<entity-one entity-name="RegistryFileLocations" value-field="filelocationContext" />
				<set field="locationId" from-field="RegistryFileLocations.locationId"
					default-value="${parameters.locationId}" />
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Create A File Location">
									<include-form name="EditFilelocationForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="Files Locations List">
									<include-form name="FilelocationListForm"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


<screen name="issuefile">
		<section>
			<actions>
				<set field="headerItem" value="issuefile" />
				<set field="tabButtonItem" value="find" />
				<set field="titleProperty" value="PageTitleFindInvoice" />
				<set field="findFileCtx" from-field="parameters" />
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Search File to Issue">
									<include-form name="issuefiles"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="Search Results">
									<include-form name="listissuefiles"
										location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="releasefile">
		<section>
			<actions>
				<set field="headerItem" value="releasefile" />
				<set field="tabButtonItem" value="find" />
				<set field="titleProperty" value="PageTitleFindInvoice" />
				<set field="findFileCtx" from-field="parameters" />
			</actions>
			<widgets>
				<decorator-screen name="RegistryCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Search File to Release">
									<include-form name="releasefiles" location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<screenlet title="Search Results">
									<include-form name="listreleasefiles" location="component://registry/widget/FileForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

    <!-- File Overview Screen -->
    <screen name="fileOverviewScreen">
        <section>
            <actions>
                <set field="fileId" from-field="parameters.fileId"/>
                <entity-one entity-name="RegistryFiles" value-field="overviewFileContext"/>
                <entity-and entity-name="RegistryDocuments" list="fileDocuments">
                    <field-map from-field="parameters.fileId" field-name="fileId"/>
                    <order-by field-name="documentId"/>
                </entity-and>
                <entity-and entity-name="RegistryFilesRequest" list="fileRequests">
                    <field-map from-field="parameters.fileId" field-name="fileId"/>
                    <order-by field-name="requestId"/>
                </entity-and>
            </actions>
            <widgets>
                <decorator-screen name="RegistryCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <screenlet title="File General Details">
                                    <include-form name="fileHeaderForm" location="component://registry/widget/FileForms.xml"/>
                                </screenlet>
                                <container style="lefthalf">
                                    <screenlet title="File Documents" navigation-form-name="ListFileDocuments">
                                        <include-form name="ListFileDocuments" location="component://registry/widget/FileForms.xml"/>
                                    </screenlet>
                                </container>
                                <container style="righthalf">
                                    <screenlet title="File Requests" navigation-form-name="ListFileRequests">
                                        <include-form name="ListFileRequests" location="component://registry/widget/FileForms.xml"/>
                                    </screenlet>
                                </container>
                                <container style="clear"/>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>


</screens>
