<?xml version="1.0" encoding="UTF-8"?>
<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">




	<form name="EditFileTypeForm" type="single" target="createfiletype"	focus-field-name="name" header-row-style="header-row"
		default-table-style="basic-table" default-map-name="filetypeContext">
		
		<actions>
			<entity-condition entity-name="RegistryDocumentType" list="filetypeList">
				<order-by field-name="DocumentTypeId" />
			</entity-condition>
		</actions>
		<alt-target use-when="filetypeContext!=null" target="updatefileType" />
		<field name="DocumentTypeId" title="Document Type Id"><hidden /></field>
		<field name="DocumentTypeId" title="Document Type Id" use-when="filetypeContext!=null" tooltip="${uiLabelMap.CommonNotModifRecreat}"><display /></field>
		<field name="DocumentType" title="Document Type"><text size="45"></text></field>
		<field name="retentionPeriod" title="Document Retention Period" tooltip="(Give period in years:Leave blank if retention period is permanent)"><text /></field>
		<field name="submitButton" title="${uiLabelMap.CommonSave}"	widget-style="smallSubmit"><submit button-type="button" /></field>
		<!-- submitButton -->
		<field use-when="filetypeContext==null" name="submitButton"	title="${uiLabelMap.CommonSave}" widget-style="buttontext"><submit button-type="text-link" /></field>
		<field use-when="filetypeContext!=null" name="submitButton"	title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="text-link" /></field>
	</form>


	<form name="FileTypeListForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updatefileType"
		paginate-target="EditFileTypeForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="RegistryDocumentType"></entity-condition>
		</actions>
		<auto-fields-entity entity-name="RegistryDocumentType" default-field-type="display"/>
		<field name="DocumentTypeId"><hidden /></field>
		<!-- <field name="DocumentType" title="File Type"><display /></field> -->
		<field name="deleteLink" title="${uiLabelMap.CommonDelete}"	widget-style="buttontext">
		<hyperlink target="deletefileType" description="${uiLabelMap.CommonDelete}"	also-hidden="false"><parameter param-name="DocumentTypeId" /></hyperlink></field>
		<field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="button" /></field>
	</form>
	
	<form name="EditFileActionTypesForm" type="single" target="createfileActionTypes"	focus-field-name="name" header-row-style="header-row"
		default-table-style="basic-table" default-map-name="fileActionTypesContext">
		
		<actions>
			<entity-condition entity-name="RegistryFileActionTypes" list="fileactionList">
				<order-by field-name="fileActionTypeId" />
			</entity-condition>
		</actions>	
		<alt-target use-when="fileActionTypesContext!=null" target="updatefileActionTypes" />	
		<field name="fileActionTypeId"><hidden /></field>
		<field name="fileActionTypeId" use-when="fileActionTypesContext!=null" tooltip="${uiLabelMap.CommonNotModifRecreat}"><display /></field>
		<field name="fileActionType" title="File Action Type"><text size="45"></text></field>
		<field name="status" title="File Status"><text size="45"></text></field>
		<field name="submitButton" title="${uiLabelMap.CommonSave}"	widget-style="smallSubmit"><submit button-type="button" /></field>
		<!-- submitButton -->
		<field use-when="fileActionTypesContext==null" name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="buttontext"><submit button-type="text-link" /></field>
		<field use-when="fileActionTypesContext!=null" name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="text-link" /></field>
	</form>


	<form name="FileActionTypesListForm" type="list" list-name="listIt"	use-row-submit="true" separate-columns="true" target="updatefileActionTypes"
		paginate-target="EditFileActionTypesForm" odd-row-style="alternate-row"	header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="RegistryFileActionTypes"></entity-condition>
		</actions>
		<field name="fileActionTypeId"><display /></field>
		<field name="fileActionType" title="File Action Type"><display /></field>
		<field name="status" title="File Status"><display /></field>
		<field name="deleteLink" title="${uiLabelMap.CommonDelete}"	widget-style="buttontext">
			<hyperlink target="deletefileActionTypes" description="${uiLabelMap.CommonDelete}" request-confirmation="true" confirmation-message="Delete This Action?"
				also-hidden="false">
				<parameter param-name="fileActionTypeId" />
			</hyperlink>
		</field>
		<field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="button" /></field>
	</form>
	
   
	<form name="EditFilesForm" type="single" target="creatememberFiles"	focus-field-name="memberPlusPersonId" header-row-style="header-row" default-table-style="basic-table" default-map-name="FilesContext">
		 <!-- <field name="partyId"><lookup target-form-name="LookupActiveMember"/></field> -->
		 <field name="memberPlusPersonId" title="Select Party"><lookup target-form-name="lookupFileParty"/></field>
		  <field name="isAuthorized" title="Require Authorization?" tooltip="${uiLabelMap.CommonRequired}" widget-style="required" required-field="true">
            <drop-down allow-empty="true" >
                <option key="Y" description="Yes"/>
                <option key="N" description="No"/>
            </drop-down>
        </field>
		<!-- submitButton -->
	<!-- 	<field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="button"><submit button-type="text-link" /></field> -->
		 <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	<form name="FilesListForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateFiles"
		paginate-target="EditFilesForm" odd-row-style="alternate-row" default-map-name="FilesContext" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
		<entity-condition entity-name="RegistryFiles"/>
		</actions>
		<!-- <field name="memberOrEmployee" title="File Type"><display /></field> -->
		<field name="memberPlusPersonId" title="Name"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="folioNo" title="Folio Number"><display /></field>
		<field name="status" title="File Status"><display /></field>
		<field name="creator" title="File Created by"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="fileLocation" title="Current File Location"><display-entity entity-name="department" key-field-name="departmentId" description="${departmentName}"></display-entity></field>
		<field name="creationDate" title="Creation Date"><display /></field>
		
		
		<field name="addDocument" title=" " widget-style="buttontext">
			<hyperlink also-hidden="false"  description="Add Document To File" target="editfileURL">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" />
			</hyperlink>
		</field>
		
		 <field name="files" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Add Volume" target="goAddVolume">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
			</hyperlink>
		</field>

	</form>


	<form name="EditDocumentForm" type="single" target="createDocument"	focus-field-name="name" header-row-style="header-row" default-table-style="basic-table" default-map-name="documentContext">
		<actions>
		<set field="memberPlusPersonId" from-field="parameters.memberPlusPersonId"/>
		
			<entity-condition entity-name="RegistryDocuments" list="fileList">
				<order-by field-name="documentId" />
			</entity-condition>
			<entity-condition entity-name="RegistryDocumentType" list="filetypeList">
				<order-by field-name="DocumentTypeId" />
			</entity-condition>
			<entity-condition entity-name="Member" list="filebksList">
				<order-by field-name="partyId" />
			</entity-condition>
			<entity-condition entity-name="RegistryFileVolume" list="volumeList">
				<condition-expr field-name="memberPlusPersonId" operator="equals" from-field="memberPlusPersonId"/>
			</entity-condition>
		</actions>
		<alt-target use-when="documentContext!=null" target="updateFile" />
		<field name="DocumentTypeId" title="Document Type " widget-style="required"	required-field="true">
			<drop-down>
				<list-options key-name="DocumentTypeId" list-name="filetypeList"
					description="${DocumentType}" />
			</drop-down>
		</field>
		<field name="memberPlusPersonId" title="File ID"><hidden/></field>
		<!-- <field name="partyId" use-when="FilesContext!=null"><display/></field> -->
		<field name="referenceNo" title="Reference Number"><text/></field>
		<field name="documentValue" title="Document Value" widget-style="required" tooltip="In Kenyan Shillings (KES)"><text/></field>	
		<field name="volumeIdentifier" title="Select File Volume" required-field="true" widget-style="required">
		<drop-down allow-empty="true">
          <!--  <list-options key-name="volumeIdentifier" list-name="volumeList"
					description="${volumeIdentifier}" /> -->
					
				<entity-options description="${volumeIdentifier}"
					key-field-name="volumeIdentifier" entity-name="RegistryFileVolume" />
			
       </drop-down>
		</field>	
		<field name="receiptDate" title="Recieved date"><date-time type="date" /></field>
		<field name="submitButton" title="${uiLabelMap.CommonSave}"	widget-style="smallSubmit"><submit button-type="button" /></field>
		<!-- submitButton -->
		<field use-when="documentContext==null" name="submitButton"	title="${uiLabelMap.CommonSave}" widget-style="buttontext"><submit button-type="button" /></field>
		<field use-when="documentContext!=null" name="submitButton"	title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="button" /></field>
	</form>

	<form name="documentListForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateFileds"
		paginate-target="EditDocumentForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="RegistryDocuments">
                <condition-expr field-name="memberPlusPersonId" from-field="parameters.memberPlusPersonId"/>
                <order-by field-name="documentId"/>
            </entity-condition>
		</actions>
		<field name="documentId"><display /></field>
		<!-- <field name="DocumentTypeId" title="Document Type ID"><display /></field> -->
		<field name="DocumentTypeId" title="Document Type"><display-entity entity-name="RegistryDocumentType" description="${DocumentType}"></display-entity></field>
		<field name="referenceNo" title="Document Reference Number"><display /></field>
		<field name="volumeIdentifier"><display /></field>
		<field name="documentValue" title="Document Value" tooltip="(Ksh.)"><display /></field>
		<field name="receiptDate" title="Date Recieved"><display /></field>
	</form>


	<form name="RequestFileForm" type="single" target="requestfiles" focus-field-name="name" header-row-style="header-row"
		default-table-style="basic-table" default-map-name="requestfileContext">
		<actions>
			<entity-condition entity-name="RegistryFileActions" list="filereqList">
				<order-by field-name="actionId" />
			</entity-condition> 
			<entity-condition entity-name="RegistryFiles" list="filesList">
				<order-by field-name="memberPlusPersonId" />
			</entity-condition>
			<entity-condition entity-name="RegistryFileActionTypes" list="fileActionsList">
				<order-by field-name="fileActionTypeId" />
			</entity-condition>	
			
		</actions>
		<alt-target use-when="requestfileContext!=null" target="updateFiletype" />
		<field name="actionId" ><hidden /></field> 
		<field name="Reason" title="Provide Reason for your request"><text/></field>
		
		<field name="actionId" use-when="requestfileContext!=null"	tooltip="${uiLabelMap.CommonNotModifRecreat}"><display /></field>
		<!-- <field name="partyId" title="Party Id"><hidden /></field> -->
		<field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit button-type="button" /></field>
	</form>


	<form name="RequestedFileListForm" type="list" list-name="listIt"	use-row-submit="true" separate-columns="true" target="updateFiletype"
		paginate-target="RequestFileForm" odd-row-style="alternate-row"	header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="RegistryFileActions">
                <condition-expr field-name="memberPlusPersonId" from-field="parameters.memberPlusPersonId"/>
                <order-by field-name="memberPlusPersonId"/>
            </entity-condition>
		</actions>
		<field name="actionId"><display /></field>
    	<field name="fileActionTypeId" title="Action Type"><display/></field>
		<field name="memberPlusPersonId" title="File Folio Number"><display-entity entity-name="RegistryFiles" description="${folioNo}"></display-entity></field>
		<field name="actionBy"><display-entity entity-name="Person" key-field-name="partyId" description="${first_name} ${last_name}"></display-entity></field>
		<field name="actionDate"><display /></field>
	</form>


	<form name="EditFilelocationForm" type="single" target="createfilelocation"	focus-field-name="name" header-row-style="header-row" default-table-style="basic-table" default-map-name="filelocationContext">
		<actions>
			<entity-condition entity-name="RegistryFileLocations" list="filelocationList">
				<order-by field-name="locationId" />
			</entity-condition>
		</actions>
		<alt-target use-when="filelocationContext!=null" target="updatefilelocation" />
		<field name="locationId"><hidden /></field>
		<field name="locationId" use-when="filelocationContext!=null" tooltip="${uiLabelMap.CommonNotModifRecreat}"><display /></field>
		<field name="fileLocation" title="File location"><text size="45"></text></field>
		<field name="description" title="Description"><textarea /></field>
		<field name="submitButton" title="${uiLabelMap.CommonSave}"	widget-style="smallSubmit"><submit button-type="button" /></field>
		<field use-when="filelocationContext==null" name="submitButton"	title="${uiLabelMap.CommonSave}" widget-style="buttontext"><submit button-type="text-link" /></field>
		<field use-when="filelocationContext!=null" name="submitButton"	title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="text-link" /></field>
	</form>


	<form name="FilelocationListForm" type="list" list-name="listIt"	use-row-submit="true" separate-columns="true" target="updatefilelocation"
		paginate-target="EditFilelocationForm" odd-row-style="alternate-row"	header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="RegistryFileLocations"></entity-condition>
		</actions>
		<field name="locationId"><display /></field>
		<field name="fileLocation" title="File Locations"><display /></field>
		<field name="deleteLink" title="${uiLabelMap.CommonDelete}"	widget-style="buttontext">
			<hyperlink target="deletefilelocation" description="${uiLabelMap.CommonDelete}"
				also-hidden="false">
				<parameter param-name="locationId" />
			</hyperlink>
		</field>
		<field name="submitButton" title="${uiLabelMap.CommonUpdate}"	widget-style="buttontext"><submit button-type="button" /></field>
	</form>

     <!--  +++++++++++++++++++++++++++++++++++++++++++++MAIN======================================================================= -->
     
	 <form name="FindMemberfiles" default-map-name="FindMemberfilesContext" target="main" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<!-- <set field="status" value="AVAILABLE"/> -->
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <!-- List Memeber Files -->

    <form name="listmembersfiles" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfiles"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
        <entity-condition entity-name="RegistryFiles" ></entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="recieptStatus"><hidden/></field>
        <field name="Reason"><hidden/></field>
		<field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
      
		 <!-- <field name="issueFile" title="-" widget-style="buttontext" use-when="${status=='REQUESTED'}">
			<hyperlink also-hidden="false" description="Issue File" target="issuefiles">
				<parameter param-name="partyId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
			</hyperlink>
		</field>
		 <field name="releaseFile" title="-" widget-style="buttontext" use-when="${status=='ISSUED'}">
			<hyperlink also-hidden="false" description="Return To Registry" target="releasefiles">
				<parameter param-name="partyId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
			</hyperlink>
		</field> -->
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="fileLocation"><display-entity entity-name="department" key-field-name="departmentId" description="${departmentName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
    
     <!--  +++++++++++++++++++++++++++++++++++++++++++++FILE REQUESTS======================================================================= -->
  
     
     
	<!--  <form name="FindMemberfilesForRequest" default-map-name="FindMemberfilesForRequestContext" target="regFileRequest" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="AVAILABLE"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
        <field name="partyId" title="Member"><lookup target-form-name="LookupActiveMember"/></field>
        <field name="noConditionFind"><hidden value="Y"/>if this isn't there then with all fields empty no query will be done</field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    List Memeber Files

    <form name="listFindMemberfilesForRequest" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForRequest"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
        
        <entity-condition entity-name="RegistryFiles" >
        <condition-expr field-name="status" operator="equals" value="AVAILABLE"/>
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
           
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="status"><hidden/></field>

		<field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="partyId" />
			</hyperlink>
		</field>
        <field name="filesRequest" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Request File" target="goRequestFile">
				<parameter param-name="partyId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
			</hyperlink>
		</field>
		 
		<field name="partyId" title="Member Name"><display-entity entity-name="Person" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
     -->
<form name="FindMemberfilesForRequest" default-map-name="FindMemberfilesForRequestContext" target="regFileRequest" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="AVAILABLE"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <!-- List Memeber Files -->

    <form name="listFindMemberfilesForRequest" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForRequest"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
         <entity-condition entity-name="RegistryFiles" >
        <condition-expr field-name="status" operator="equals" value="AVAILABLE"/>
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="status"><hidden/></field>
		<field name="Reason"><hidden/></field>
       <field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
        <field name="filesRequest" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Request File" target="goRequestFile">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
			</hyperlink>
		</field>
		 
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
    
     <!--  ============================================== FILE AUTHORIZATION ======================================================================= -->
     
	 <form name="FindMemberfilesForAuthorization" default-map-name="FindMemberfilesForIssueContext" target="regFileIssue" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="REQUESTED"/> 
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

   

    <form name="listMemberfilesForAuthorization" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForIssue"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
        <entity-condition entity-name="RegistryFiles" >
         <condition-list>
         <condition-expr field-name="status" operator="equals" value="REQUESTED"/>
         <condition-expr field-name="isAuthorized" operator="equals" value="Y"/>
          <condition-expr field-name="approvalStatus" operator="not-equals" value="Approved"/>
         </condition-list>
        </entity-condition>
        
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
         <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="status"><hidden/></field>
		<field name="Reason"><hidden/></field>

		<field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
		 <field name="fileAuthorize" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Authorize" target="goAuthorizeFile">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="actionBy" /> 
				<parameter param-name="Reason" /> 
			</hyperlink>
		</field>
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="actionBy" title="Requested By"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
    
     <!--  ============================================== FILE ISSUE ======================================================================= -->
     
	 <form name="FindMemberfilesForIssue" default-map-name="FindMemberfilesForIssueContext" target="regFileIssue" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="REQUESTED"/> 
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

   

    <form name="listMemberfilesForIssue" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForIssue"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
        <entity-condition entity-name="RegistryFiles" >
         <condition-expr field-name="status" operator="equals" value="REQUESTED"/>
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
         <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="status"><hidden/></field>
		<field name="Reason"><hidden/></field>

		<field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
		 <field name="filesIssue" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Issue File" target="goIssueFile">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="actionBy" /> 
				<parameter param-name="Reason" /> 
			</hyperlink>
		</field>
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="actionBy" title="Requested By"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
  
   <!--  <form name="FindMemberfilesForIssue" default-map-name="FindMemberfilesForIssueContext" target="regFileIssue" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="AVAILABLE"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
        <field name="partyId" title="Member"><lookup target-form-name="LookupActiveMember"/></field>
        <field name="noConditionFind"><hidden value="Y"/>if this isn't there then with all fields empty no query will be done</field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    List Memeber Files

    <form name="listMemberfilesForIssue" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForIssue"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
         <entity-condition entity-name="RegistryFiles" >
        <condition-expr field-name="status" operator="equals" value="REQUESTED"/>
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="partyId" />
			</hyperlink>
		</field>
		 <field name="filesIssue" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Issue File" target="goIssueFile">
				<parameter param-name="partyId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="actionBy" /> 
			</hyperlink>
		</field>
		<field name="partyId" title="Member Name"><display-entity entity-name="Person" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="actionBy" title="Requested By"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form> -->
     <!--  +++++++++++++++++++++++++++++++++++++++++++++FILE DISPATCH======================================================================= -->
     
	 <!-- <form name="FindMemberfilesForDispatch" default-map-name="FindMemberfilesForDispatchContext" target="regFileDispatch" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="AVAILABLE"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFilesInCirculation" default-field-type="find"/>
		<field name="actionBy"><hidden/></field>
        <field name="partyId" title="Member"><lookup target-form-name="LookupActiveMember"/></field>
        <field name="noConditionFind"><hidden value="Y"/>if this isn't there then with all fields empty no query will be done</field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    List Memeber Files

    <form name="listMemberfilesForDispatch" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForDispatch"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
        <entity-condition entity-name="RegistryFilesInCirculation" ></entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFilesInCirculation"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFilesInCirculation" default-field-type="display"/>

       

		<field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="partyId" />
			</hyperlink>
		</field>
		 <field name="recieveFile" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Recieve File" target="goDispatchFile">
				<parameter param-name="partyId"/>
			</hyperlink>
		</field>
		<field name="partyId" title="Member Name"><display-entity entity-name="Person" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form> -->
    <form name="FindMemberfilesForDispatch" default-map-name="FindMemberfilesForDispatchContext" target="regFileDispatch" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="ISSUED"/> 
        	<set field="recieptStatus" value="NOTRECEIVED"/> 
        	<set field="currentPossesser" value="${userLogin.partyId}"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <!-- List Memeber Files -->

    <form name="listMemberfilesForDispatch" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForDispatch"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
         <entity-condition entity-name="RegistryFiles" >
         <condition-list>
         <condition-expr field-name="recieptStatus" operator="equals" value="NOTRECEIVED"/>
         <condition-expr field-name="currentPossesser" operator="equals" value="${userLogin.partyId}"/>
         </condition-list>
        
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            <!-- <set field="currentPossesser" value="${userLogin.partyId}"/> -->
            
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="status"><hidden/></field>
		<field name="Reason"><hidden/></field>
       <field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
		 <field name="recieveFile" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Recieve File" target="goDispatchFile">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="currentPossesser" /> 
			</hyperlink>
		</field>
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
    
     <!--  +++++++++++++++++++++++++++++++++++++++++++++FILE RELEASE======================================================================= -->
     
	 <!-- <form name="FindMemberfilesForRelease" default-map-name="FindMemberfilesForReleaseContext" target="regFileRelease" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	<set field="status" value="AVAILABLE"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFilesInCirculation" default-field-type="find"/>
        <field name="partyId" title="Member"><lookup target-form-name="LookupActiveMember"/></field>
        <field name="noConditionFind"><hidden value="Y"/>if this isn't there then with all fields empty no query will be done</field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    List Memeber Files

    <form name="listMemberfilesForRelease" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForRelease"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
        <entity-condition entity-name="RegistryFilesInCirculation" ></entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFilesInCirculation"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFilesInCirculation" default-field-type="display"/>

		<field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="partyId" />
			</hyperlink>
		</field>
		 <field name="filesRelease" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Return To Registry" target="goReleaseFile">
				<parameter param-name="partyId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="currentPossesser" /> 
			</hyperlink>
		</field>
		<field name="partyId" title="Member Name"><display-entity entity-name="Person" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>
     -->
     
     <form name="FindMemberfilesForRelease" default-map-name="FindMemberfilesForReleaseContext" target="regFileRelease" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions> 	 
        	 <set field="recieptStatus" value="RECEIVED"/>
        	 <set field="currentPossesser" value="${userLogin.partyId}"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <!-- List Memeber Files -->

    <form name="listMemberfilesForRelease" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForRelease"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
         <entity-condition entity-name="RegistryFiles" >
          <condition-list>
         <condition-expr field-name="recieptStatus" operator="equals" value="RECEIVED"/>
         <condition-expr field-name="currentPossesser" operator="equals" value="${userLogin.partyId}"/>
         </condition-list>
       
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="status"><hidden/></field>
		<field name="Reason"><hidden/></field>
       <field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
		 <field name="filesRelease" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Return To Registry" target="goReleaseFile">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="currentPossesser" /> 
			</hyperlink>
		</field>
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>

<!-- ============================================ RETURN FILE TO REGISTRY =============================================== -->
 <form name="FindMemberfilesForReturn" default-map-name="FindMemberfilesForReturnContext" target="regFileReturn" title="" type="single"  header-row-style="header-row" default-table-style="basic-table" >
        <actions>
        	 <set field="recieptStatus" value="RELEASED"/>
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="find"/>
		<field name="status"><hidden/></field>
		<field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="creator"><hidden/></field>
		<field name="actionBy"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="creationDate"><hidden/></field>
		<field name="Reason"><hidden/></field>
        <field name="memberPlusPersonId" title="Party"><lookup target-form-name="lookupFileParty"/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <!-- List Memeber Files -->

    <form name="listMemberfilesForReturn" target="" title="" list-name="listIt" type="list" paginate-target="FindMemberfilesForReturn"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
         <entity-condition entity-name="RegistryFiles" >
        <condition-expr field-name="recieptStatus" operator="equals" value="RELEASED"/>
        </entity-condition>
            <service result-map-list="listIt" result-map="result" service-name="performFind">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="RegistryFiles"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
            
        </actions>
        <auto-fields-entity entity-name="RegistryFiles" default-field-type="display"/>
         <field name="memberOrEmployee"><hidden/></field>
         <field name="firstName"><hidden/></field>
         <field name="lastName"><hidden/></field>
        <field name="creationDate"><hidden/></field>
         <field name="actionBy"><hidden/></field>
        <field name="creator"><hidden/></field>
        <field name="currentPossesser"><hidden/></field>
		<field name="recieptStatus"><hidden/></field>
		<field name="fileLocation"><hidden/></field>
		<field name="status"><hidden/></field>
		<field name="Reason"><hidden/></field>
       <field name="fileoverview" title="Overview" widget-style="buttontext">
			<hyperlink also-hidden="false" description="File Overview" target="fileoverviewURL">
				<parameter param-name="memberPlusPersonId" />
			</hyperlink>
		</field>
		 <field name="filesReturn" title="-" widget-style="buttontext">
			<hyperlink also-hidden="false" description="Recieve File At Registry" target="goReturnFile">
				<parameter param-name="memberPlusPersonId" />
				<parameter param-name="folioNo" /> 
				<parameter param-name="status" /> 
				<parameter param-name="currentPossesser" /> 
			</hyperlink>
		</field>
		<field name="memberPlusPersonId" title="Object Name"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
        <on-event-update-area event-type="paginate" area-id="search-results" area-target="ListFindSurveySearchResults"/>
    </form>


    <!-- File Header Form -->
	<form name="fileGeneralDetails" type="single"  header-row-style="header-row" default-table-style="basic-table" default-map-name="FilesContext">
	<actions>
	<set field="number" value="${bsh:org.ofbiz.registry.FileServices.getFileVolumeCount(memberPlusPersonId);}"/>
	</actions>
		<field position="1" name="memberPlusPersonId" title="PartyID"><display /></field>
		<field position="1" name="memberPlusPersonId" title="Object Name:"><display-entity entity-name="memberPlusPerson" description="${firstName}  ${lastName}"></display-entity></field>
		<field position="1" name="folioNo" title="Folio Number:"><display /></field>
		<field position="1" name="status" title="File Status:"><display /></field>
		<field position="1" name="number" title="Number Of Volumes:"><display default-value="${bsh:org.ofbiz.registry.FileServices.getFileVolumeCount(memberPlusPersonId);} Volumes"/></field>
		<field position="1" name="creator" title="File Created by:"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
		<field position="1" name="fileLocation" title="Current File Location:"><display-entity entity-name="department" key-field-name="departmentId" description="${departmentName}"></display-entity></field>
		<field position="1" name="creationDate" title="Creation Date:"><display /></field>
	</form>

    <!-- File Documents List Form -->
    <form name="ListFileDocuments" type="list"  list-name="fileDocuments" default-entity-name="RegistryDocuments" use-row-submit="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar"  target="" title="File Documents" separate-columns="false">
        <actions>
            <entity-condition entity-name="RegistryDocuments">
                <condition-expr field-name="memberPlusPersonId" from-field="memberPlusPersonId"/>
                <order-by field-name="documentId"/>
            </entity-condition>
        </actions>
        <field name="documentId"><display/></field>
      <field name="DocumentTypeId" title="Document Type"><display-entity entity-name="RegistryDocumentType" description="${DocumentType}"></display-entity></field>
	  <field name="documentValue"><display/></field>
        <field name="receiptDate" encode-output="false"><display/></field>
    </form>

    <!-- File Requests List Form -->
    <form name="ListFileRequests" type="list"  list-name="fileRequests" default-entity-name="RegistryFileActions" use-row-submit="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar"  target="" title="File Requests" separate-columns="false">
      	<actions>
            <entity-condition entity-name="RegistryFileActions">
                <condition-expr field-name="memberPlusPersonId" from-field="memberPlusPersonId"/>
                <order-by field-name="actionId"/>
            </entity-condition>
        </actions>
         <field name="actionId"><display/></field>
        <field name="fileActionTypeId" title="File Action"><display-entity entity-name="RegistryFileActionTypes" description="${fileActionType}"></display-entity></field>
        <field name="actionBy"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName} ${lastName}"></display-entity></field>
        <field name="actionDate" encode-output="false"><display/></field>
    </form>
    
    <!-- ================================================FILE REQUEST========================================================= -->
    
     <form name="requestFileForm" type="single" target="requestfiles"
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
				 <set field="memberPlusPersonId" value="${parameters.memberPlusPersonId}"/> 
				 <set field="folioNo" value="${parameters.folioNo}"/> 
		
        </actions>
		<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display-entity entity-name="EmplLeaveType" key-field-name="leaveTypeId" description="${description}"></display-entity></field>
		<field name="Reason" title="Reason for this request:" required-field="true"><textarea/></field>
		
		 <field name="submitButton" title="Request" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	  <!-- ================================================FILE AUTHORIZATION========================================================= -->
    
     <form name="authorizeFileForm" type="single" target=""
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
				 <set field="memberPlusPersonId" value="${parameters.memberPlusPersonId}"/> 
				 <set field="folioNo" value="${parameters.folioNo}"/> 
				  <set field="actionBy" value="${parameters.actionBy}"/>
		
        </actions>
		<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display-entity entity-name="EmplLeaveType" key-field-name="leaveTypeId" description="${description}"></display-entity></field>
		<field name="actionBy" title="File Requested By"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="Reason" title="Reason for this request:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${Reason}"></display-entity></field>
		
		
	</form>
	
	 <!-- ================================================FILE ISSUE========================================================= -->
    
     <form name="issueFileForm" type="single" target="issuefiles"
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
		 
		  <set field="actionBy" value="${parameters.actionBy}"/>
		  <set field="Reason" value="${parameters.Reason}"/>
		
        </actions>
		
		
			<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display/></field>
		<field name="actionBy" title="File Requested By"><display-entity entity-name="Person" key-field-name="partyId" description="${firstName}  ${lastName}"></display-entity></field>
		<field name="Reason" title="Reason for this request:"><display></display></field>
		<!-- <field name="carriedBy" title="File Carried By:" required-field="true"><text/></field>rrrr -->
		<field name="carriedBy" title="File Carried By:"><lookup target-form-name="LookupEmployee"/></field>
		
		
		 <field name="submitButton" title="Issue File" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	 <!-- ================================================FILE DISPATCH========================================================= -->
    
     <form name="dispatchFileForm" type="single" target="recieveFiles"
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
		 <set field="memberPlusPersonId" value="${parameters.memberPlusPersonId}"/>
		
        </actions>
		
		<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display/></field>
		<!-- <field name="carriedBy" title="File Carried By:" required-field="true"><text/></field>ggggg -->
		<field name="carriedBy" title="File Carried By:"><lookup target-form-name="LookupEmployee"/></field>
		
		 <field name="submitButton" title="Recieve File" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	 <!-- ================================================FILE RELEASE========================================================= -->
    
     <form name="releaseFileForm" type="single" target="releasefiles"
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
		 <!-- <set field="newDuration" value="${bsh:org.ofbiz.humanres.Leave.getNewLeaveDuration();}" type="String"/> -->
		 <!-- <set field="newDuration" value="${bsh:org.ofbiz.humanres.Leave.getNewLeaveDuration2();}" type="String"/> -->
		
        </actions>
		<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display/></field>
		<!-- <field name="carriedBy" title="File Carried By:" required-field="true"><text/></field>ffffff -->
		<field name="carriedBy" title="File Carried By:"><lookup target-form-name="LookupEmployee"/></field>
		
		 <field name="submitButton" title="Release File" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	 <!-- ================================================FILE RETURN========================================================= -->
    
     <form name="returnFileForm" type="single" target="returnfiles"
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
		 <!-- <set field="newDuration" value="${bsh:org.ofbiz.humanres.Leave.getNewLeaveDuration();}" type="String"/> -->
		 <!-- <set field="newDuration" value="${bsh:org.ofbiz.humanres.Leave.getNewLeaveDuration2();}" type="String"/> -->
		
        </actions>
			<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display/></field>
		<field name="currentPossesser" title="Released By:"><display/></field>
		<!-- <field name="carriedBy" title="File Carried By:" required-field="true"><text/></field>fffff -->
		<field name="carriedBy" title="File Carried By:"><lookup target-form-name="LookupEmployee"/></field>
		
		 <field name="submitButton" title="Recieve File" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	 <!-- ================================================ ADD VOLUME TO A FILE ========================================================= -->
    
     <form name="addFileVolumeForm" type="single" target="createfileVolume"
		default-map-name="updateLeaveDurationContext" header-row-style="header-row"
		default-table-style="basic-table">
		 <actions>
		 <set field="memberPlusPersonId" value="${parameters.memberPlusPersonId}"/>
		 <set field="folioNo" value="${parameters.folioNo}"/>
		
        </actions>
			<field name="memberPlusPersonId" title="Object Names:"><display-entity entity-name="memberPlusPerson" key-field-name="memberPlusPersonId" description="${firstName} ${lastName}"></display-entity></field>
		<field name="folioNo" title="File Folio Number:"><display/></field>
		<field name="volumeIdentifier" title="File Volume Identifier:" tooltip="(For example: Volume One)"><text/></field>
		
		 <field name="submitButton" title="Save Volume" widget-style="smallSubmit"><submit button-type="button"/></field>
	</form>
	
	<form name="fileVolumeList" type="list" list-name="listIt"	use-row-submit="true" separate-columns="true" target="updatefileVolume"
		paginate-target="addFileVolumeForm" odd-row-style="alternate-row"	header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="RegistryFileVolume"><condition-expr field-name="memberPlusPersonId" from-field="parameters.memberPlusPersonId"/></entity-condition>
		</actions>
		<auto-fields-entity entity-name="RegistryFileVolume" default-field-type="display"/>
		<field name="volumeIdentifier"><text/></field>
		
		<field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="button" /></field>
	</form>
	
	<!-- ================================ FILE CREATION LOOKUP========================================== -->
	
  <form name="lookupFileParty" target="lookupFileParty" type="single"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="fileType" title="File Type"><text-find/></field>
        <field name="firstName" title="${uiLabelMap.PartyFirstName}"><text-find/></field>
        <field name="lastName"  title="${uiLabelMap.PartyLastName}"><text-find/></field>
        <field name="idNumber" title="ID Number"><text-find/></field>
        <field name="payrollNo" title="Payroll Number"><text-find/></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}"><submit button-type="button"/></field>
    </form>
    <form name="listLookupFileParty" type="list" list-name="listIt" paginate-target="lookupFileParty"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <actions>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="memberPlusPerson"/>
                <field-map field-name="orderBy" value="memberPlusPersonId"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
        </actions>
        <field name="memberPlusPersonId" title="Id"  widget-style="smallSubmit">
            <hyperlink also-hidden="false" target-type="plain" description="${firstName} ${lastName}" target="javascript:set_value('${memberPlusPersonId}')"/>
        </field>
        <field name="payrollNo" title="Payroll Number"><display/></field>
        <field name="idNumber"  title="ID Number"><display/></field>
        <field name="fileType" title="File Type"><display/></field>
    </form>
    
    <!-- ==================================================== NON-MEMBER/PERSON RECORDS FOR FILING ============================================================== -->
    
    <form name="EditNonMemberOrPersonForm" type="single" target="createNonMemberOrPersonRecord"	focus-field-name="name" header-row-style="header-row"
		default-table-style="basic-table" default-map-name="NonMemberOrPersonContext">
		
		<actions>
			<entity-condition entity-name="NonmemberPlusPersonRecords" list="nonPtypeList">
				<order-by field-name="entryNumber" />
			</entity-condition>
		</actions>
		<alt-target use-when="NonMemberOrPersonContext!=null" target="updateNonMemberOrPersonRecord" />
		<field name="entryNumber"><hidden /></field>
		<field name="entryNumber" use-when="NonMemberOrPersonContext!=null" tooltip="${uiLabelMap.CommonNotModifRecreat}"><display /></field>
		<field name="objectName"><text size="45"></text></field>
		<field name="physicalDescription"><textarea/></field>
		<field name="securityLevel">
		<drop-down allow-empty="true">
		<option key="General" description="General" />
		<option key="Restricted," description="Restricted" />
		<option key="Confidential," description="Confidential" />
		<option key="Secret," description="Secret" />
		<option key="Top Secret," description="Top Secret" />
		</drop-down>
        </field>
		<field name="referenceSource"><text size="45"></text></field>
		<field name="curatorDepartment"><text size="45"></text></field>
		<field name="identifier"><text size="45"></text></field>
		<field name="siteInformation"><text size="45"></text></field>
		<field name="contentBrief"><text size="45"></text></field>
		<field name="subjectInformation"><text size="45"></text></field>
		<field name="relatedness"><text /></field>
		<field name="contentBrief"><text size="45"></text></field>
		<field name="isAuthorized" title="Does it Need Authorization" required-field="true">
		<drop-down allow-empty="true">
		<option key="Y" description="Yes" />
		<option key="N" description="No" />
		</drop-down>
        </field>
		<field name="acquistionDate"><date-time type="date"/></field>
		<field name="recordDate"><date-time type="date"/></field>
		<field name="submitButton" title="${uiLabelMap.CommonSave}"	widget-style="smallSubmit"><submit button-type="button" /></field>
		<!-- submitButton -->
		<field use-when="NonMemberOrPersonContext==null" name="submitButton"	title="${uiLabelMap.CommonSave}" widget-style="buttontext"><submit button-type="text-link" /></field>
		<field use-when="NonMemberOrPersonContext!=null" name="submitButton"	title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="text-link" /></field>
	</form>


	<form name="NonMemberOrPersonListForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateNonMemberOrPersonRecord"
		paginate-target="EditNonMemberOrPersonForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
		<actions>
			<entity-condition entity-name="NonmemberPlusPersonRecords"></entity-condition>
		</actions>
		<auto-fields-entity entity-name="NonmemberPlusPersonRecords" default-field-type="display"/>
		
		<field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"><submit button-type="button" /></field>
	</form>

</forms>
