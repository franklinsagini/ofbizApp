<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="main">
		<section>
			<actions>
				<set field="headerItem" value="main" /><!-- this highlights the selected 
					menu-item with name "main" -->
			</actions>
			<widgets>
				<decorator-screen name="OnlineRemittanceProcessingCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="manageOnlineStations">
		<section>
			<actions>
				<set field="titleProperty" value="Online Stations (Online Remittance Stations)" />
				<set field="headerItem" value="manageOnlineStations" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createOnlineStationItem" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				
				<set field="stationCount"
					value="${bsh:org.ofbiz.onlineremittanceprocessing.OnlineRemittanceProcessingServices.getOnlineStationsCount();}"
					type="Long" />
				<property-to-field field="defaultCountryGeoId"
					resource="general" property="KEN" default="KEN" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">

						<section>


							<widgets>

								<screenlet>
									<section>
										<widgets>
											<container style="button-bar">
												<link target="addAllStationsOnline" text="Add All Stations to Online"
													style="buttontext">
													<image url-mode="raw" src="${iconsLocation}/add.png" />
												</link>
											</container>
										</widgets>
									</section>
								</screenlet>

								<screenlet>
									<section>
										<widgets>

											<container style="button-bar">
												<link target="removeAllStationsOnline" text="Remove All Stations Online"
													style="buttontext">
													<!-- parameter param-name="loanApplicationId"/ -->
													<image url-mode="raw" src="${iconsLocation}/add.png" />
												</link>
											</container>
										</widgets>
									</section>
								</screenlet>

							</widgets>
						</section>

						<section>
							<widgets>
								<screenlet title="Add Online Station">
									<include-form name="NewOnlineStation"
										location="component://onlineremittanceprocessing/widget/OnlineRemittanceProcessingForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<!-- screenlet> <include-form name="FindLoansForwarded" location="component://loansprocessing/widget/loansprocessingForms.xml"/> 
									</screenlet -->
								<screenlet title="Online Stations (for Online Remittance)">
									<include-form name="manageOnlineStations"
										location="component://onlineremittanceprocessing/widget/OnlineRemittanceProcessingForms.xml" />
								</screenlet>
							</widgets>
						</section>

						<!-- Total Stations Online -->
						<section>
							

							<widgets>

								<screenlet>

									<container>
										<label style="h3"> Online Stations Count : ${stationCount}</label>
									</container>
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<!-- pushMonthYear -->
		<screen name="pushMonthYear">
		<section>
			<actions>
				<set field="titleProperty" value="Push/Pull (Push/Pull Month Year)" />
				<set field="headerItem" value="pushMonthYear" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createPushMonthYear" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				
				<property-to-field field="defaultCountryGeoId"
					resource="general" property="KEN" default="KEN" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">

						<section>
							<widgets>
								<screenlet title="Push/Pull Month Year">
									<include-form name="NewPushMonthYear"
										location="component://onlineremittanceprocessing/widget/OnlineRemittanceProcessingForms.xml" />
								</screenlet>
							</widgets>
						</section>
						<section name="search-results">
							<widgets>
								<!-- screenlet> <include-form name="FindLoansForwarded" location="component://loansprocessing/widget/loansprocessingForms.xml"/> 
									</screenlet -->
								<screenlet title="Push/Pull (Month Year)">
									<include-form name="pushMonthYear"
										location="component://onlineremittanceprocessing/widget/OnlineRemittanceProcessingForms.xml" />
								</screenlet>
							</widgets>
						</section>


					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
		<!-- 
		showStationPushStatus
	
	 -->
	 <screen name="showStationPushStatus">
		<section>
			<actions>
				<set field="titleProperty" value="Station Push Status" />
				<set field="headerItem" value="pushMonthYear" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createPushMonthYearItem" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				
				<property-to-field field="defaultCountryGeoId"
					resource="general" property="KEN" default="KEN" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section name="search-results">
							<widgets>
								<!-- screenlet> <include-form name="FindLoansForwarded" location="component://loansprocessing/widget/loansprocessingForms.xml"/> 
									</screenlet -->
								<screenlet title="Station Push Status">
									<include-form name="showStationPushStatus"
										location="component://onlineremittanceprocessing/widget/OnlineRemittanceProcessingForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	 
	 <!-- showStationPullStatus -->
	 <screen name="showStationPullStatus">
		<section>
			<actions>
				<set field="titleProperty" value="Station Pull Status" />
				<set field="headerItem" value="showStationPullStatus" />
				<set field="displayPassword" value="Y" />
				<set field="target" value="createPushMonthYearItem" />
				<set field="previousParams" from-field="sessionAttributes._PREVIOUS_PARAMS_" />
				
				<property-to-field field="defaultCountryGeoId"
					resource="general" property="KEN" default="KEN" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">

						<section name="search-results">
							<widgets>
								<!-- screenlet> <include-form name="FindLoansForwarded" location="component://loansprocessing/widget/loansprocessingForms.xml"/> 
									</screenlet -->
								<screenlet title="Station Pull Status">
									<include-form name="showStationPullStatus"
										location="component://onlineremittanceprocessing/widget/OnlineRemittanceProcessingForms.xml" />
								</screenlet>
							</widgets>
						</section>


					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

</screens>