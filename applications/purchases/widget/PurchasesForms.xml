
<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">
        <!--
            FindSupplierForm
         -->
    <form name="FindSupplierForm" default-map-name="supplier" target="findSupplier" type="single">
        <auto-fields-entity entity-name="Supplier" default-field-type="find"/>
        <field name="noConditionFind"><hidden value="Y"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>

    <!--
           ListSupplierForm
     -->

    <form name="ListSupplierForm" type="list" list-name="listIt" target="" title="Supplier List" paginate-target="findSupplier" default-entity-name="Supplier"
        separate-columns="true" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="supplierCtx" />
                <field-map field-name="entityName" value="Supplier" />
                <field-map field-name="orderBy" from-field="parameters.sortField" />
                <field-map field-name="viewIndex" from-field="viewIndex" />
                <field-map field-name="viewSize" from-field="viewSize" />
            </service>
        </actions>
        <field name="supplierId" title="Supplier Id" widget-style="buttontext">
            <hyperlink also-hidden="false" description="${supplierId}" target="editSupplier">
                <parameter param-name="supplierId" />
            </hyperlink>
        </field>
        <field name="name" sort-field="true">
            <display />
        </field>
        <field name="emailAddress" sort-field="true">
            <display />
        </field>
        <field name="physicalAddress" sort-field="true">
            <display />
        </field>
        <field name="postalAddress" sort-field="true">
            <display />
        </field>
        <field name="phoneNumber" sort-field="true">
            <display />
        </field>
        <field name="mobileNumber" sort-field="true">
            <display />
        </field>
    </form>



    <!--
        EditSupplierForm
     -->

    <form name="EditSupplierForm" type="single" target="createSupplier" focus-field-name="name" header-row-style="header-row" default-table-style="basic-table"
        default-map-name="documentApprovalContext">
        <actions>
            <entity-condition entity-name="Supplier" list="suppliersList">
                <order-by field-name="supplierId"/>
            </entity-condition>
        </actions>
        <field name="supplierId"><hidden/></field>
        <field name="name" title="Name"> <text size="45"></text> </field>
        <field name="emailAddress" title="Email Address"> <text size="25"></text> </field>\
        <field name="postalAddress" title="Postal Address"> <text size="25"></text> </field>
        <field name="physicalAddress" title="Stage Action"> <text size="25"></text> </field>
        <field name="phoneNumber" title="Landline Number"> <text size="25"></text> </field>
        <field name="mobileNumber" title="Mobile Phone Number"> <text size="25"></text> </field>\
        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

            <!--
                SupplierListForm
            -->
    <form name="SupplierListForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateSupplier"
        paginate-target="EditSupplierForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <entity-condition entity-name="Supplier"></entity-condition>
        </actions>
        <field name="supplierId"><hidden/></field>
        <field name="name" title="Name"> <text size="25"></text> </field>
        <field name="postalAddress" title="Postal Address"> <text size="25"></text> </field>
        <field name="physicalAddress" title="Physical Address"> <text size="25"></text> </field>
        <field name="phoneNumber" title="Landline Number"> <text size="25"></text> </field>
        <field name="mobileNumber" title="Mobile Phone"> <text size="25"></text> </field>
        <field name="deleteLink" title="${uiLabelMap.CommonDelete}" widget-style="buttontext">
                <hyperlink target="deleteSupplier" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                    <parameter param-name="supplierId"/>
                </hyperlink>
        </field>
        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"> <submit button-type="button"/></field>
    </form>


    <!--
        ContactPersonForm
    -->


    <form name="ContactPersonForm" type="single" target="createContactPerson" focus-field-name="name" header-row-style="header-row" default-table-style="basic-table"
        default-map-name="contactPersonContext">
        <actions>
            <entity-condition entity-name="ContactPerson" list="contactPersonsList">
                <order-by field-name="contactPersonId"/>
            </entity-condition>
        </actions>
        <field name="supplierId"><hidden/></field>
        <field name="contactPersonId"><hidden/></field>
        <field name="firstName" title="First Name"> <text size="45"></text> </field>
        <field name="lastName" title="Last Name"> <text size="45"></text> </field>
        <field name="jobTitle" title="Job Title"> <text size="45"></text> </field>
        <field name="emailAddress" title="Email Address"> <text size="25"></text> </field>
        <field name="postalAddress" title="Postal Address"> <text size="25"></text> </field>
        <field name="physicalAddress" title="Physical Address"> <text size="25"></text> </field>
        <field name="phoneNumber" title="Landline Number"> <text size="25"></text> </field>
        <field name="mobileNumber" title="Mobile Phone Number"> <text size="25"></text> </field>
        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

            <!--
                ListContactPersonForm
            -->
    <form name="ListContactPersonForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateSupplier"
        paginate-target="EditSupplierForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <entity-condition entity-name="Supplier"></entity-condition>
        </actions>
           <field name="supplierId"><hidden/></field>
        <field name="contactPersonId"><hidden/></field>
        <field name="firstName" title="First Name"> <text size="45"></text> </field>
        <field name="lastName" title="Last Name"> <text size="45"></text> </field>
        <field name="jobTitle" title="Job Title"> <text size="45"></text> </field>
        <field name="emailAddress" title="Email Address"> <text size="25"></text> </field>
        <field name="postalAddress" title="Postal Address"> <text size="25"></text> </field>
        <field name="physicalAddress" title="Physical Address"> <text size="25"></text> </field>
        <field name="phoneNumber" title="Landline Number"> <text size="25"></text> </field>
        <field name="mobileNumber" title="Mobile Phone Number"> <text size="25"></text> </field>
        <field name="deleteLink" title="${uiLabelMap.CommonDelete}" widget-style="buttontext">
                <hyperlink target="deleteSupplier" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                    <parameter param-name="supplierId"/>
                </hyperlink>
        </field>
        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"> <submit button-type="button"/></field>
    </form>

<!-- ================================================================================================================================================================================== -->
        <!--
            Find Order Form
         -->
    <form name="FindOrderForm" default-map-name="purchaseOrder" target="findPurchasingOrders" type="single">
        <auto-fields-entity entity-name="Order" default-field-type="find"/>
        <field name="noConditionFind"><hidden value="Y"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>

    <!--
           List Order Form
     -->

    <form name="ListOrderForm" type="list" list-name="listIt" target="" title="Purchase Order List" paginate-target="findSupplier" default-entity-name="Order"
        separate-columns="true" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="purchaseOrdersCtx" />
                <field-map field-name="entityName" value="Order" />
                <field-map field-name="orderBy" from-field="parameters.sortField" />
                <field-map field-name="viewIndex" from-field="viewIndex" />
                <field-map field-name="viewSize" from-field="viewSize" />
            </service>
        </actions>
        <field name="orderId" title="Order Id" widget-style="buttontext">
            <hyperlink also-hidden="false" description="${orderId}" target="editPurchaseOrder">
                <parameter param-name="orderId" />
            </hyperlink>
        </field>
        <field name="name" sort-field="true">
            <display />
        </field>
        <field name="emailAddress" sort-field="true">
            <display />
        </field>
        <field name="physicalAddress" sort-field="true">
            <display />
        </field>
        <field name="postalAddress" sort-field="true">
            <display />
        </field>
        <field name="phoneNumber" sort-field="true">
            <display />
        </field>
        <field name="mobileNumber" sort-field="true">
            <display />
        </field>
    </form>


    <!--
        Edit Order Form
    -->

    <form name="EditOrderForm" type="single" target="createOrder" focus-field-name="name" header-row-style="header-row" default-table-style="basic-table"
        default-map-name="purchaseOrdersCtx">
        <actions>
            <entity-condition entity-name="Order" list="ordersList">
                <order-by field-name="orderId"/>
            </entity-condition>
        </actions>


<!--  <field name="priority" type="indicator"><description>Sets priority for Inventory Reservation</description></field>
      <field name="entryDate" type="date-time"></field>
      <field name="statusId" type="id"></field>
      <field name="createdBy" type="id-vlong"></field>

      <field name="billingAccountId" type="id"></field>
      <field name="webSiteId" type="id"></field>
      <field name="transactionId" type="id-long"></field>
      <field name="remainingSubTotal" type="currency-amount"></field>
      <field name="grandTotal" type="currency-amount"></field> -->




        <field name="orderId"><hidden/></field>
        <field name="orderName" title="Order Name"> <text size="45"></text> </field>
        <field name="orderDate"><date-time/></field>
        <field name="currencyUom">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyCurrencyUomId}">
                <entity-options
                    entity-name="Uom"
                    key-field-name="uomId"
                    description="${description} - ${abbreviation}">
                    <entity-constraint name="uomTypeId" operator="equals" value="CURRENCY_MEASURE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <!--
        Order List Form
     -->


    <form name="OrderListForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateOrder"
        paginate-target="EditOrderForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <entity-condition entity-name="Order"></entity-condition>
        </actions>
        <field name="orderId"><hidden/></field>
        <field name="orderName" title="Order Name"> <text size="25"></text> </field>
        <field name="orderDate" title="Order Date"> <text size="25"></text> </field>
        <field name="createdBy" title="Prepared By"> <text size="25"></text> </field>
        <field name="statusId" title="Status"><text size="10"></text></field>
        <field name="grandTotal" title="Total"><text size="10"></text></field>
        <field name="deleteLink" title="${uiLabelMap.CommonDelete}" widget-style="buttontext">
                <hyperlink target="deleteSupplier" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                    <parameter param-name="supplierId"/>
                </hyperlink>
        </field>
        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"> <submit button-type="button"/></field>
    </form>

        <!--
            Order Line Form
         -->

    <form name="OrderLineForm" type="single" target="createOrderLine" focus-field-name="name" header-row-style="header-row" default-table-style="basic-table"
        default-map-name="orderLineContext">
        <actions>
            <entity-condition entity-name="OrderLine" list="OrderLinesList">
                <order-by field-name="orderLineSeqId"/>
            </entity-condition>
        </actions>
        <field name="orderId"><hidden/></field>
        <field name="orderLineSeqId"><hidden/></field>
        <field name="productId"><lookup target-form-name="LookupProduct"/></field>
        <field name="itemDescription" title="Product Description"><text size="45"></text></field>
        <field name="quantity" title="Quantity"><text size="10" ></text></field>
        <field name="unitPrice" title="Unit Price"><text size="10" ></text></field>

        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

            <!--
                ListOrderLinesForm
            -->
    <form name="ListOrderLinesForm" type="list" list-name="listIt" use-row-submit="true" separate-columns="true" target="updateSupplier"
        paginate-target="EditSupplierForm" odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <entity-condition entity-name="Supplier"></entity-condition>
        </actions>


 <!--      <field name="orderItemTypeId" type="id-ne"></field>
      <field name="cancelQuantity" type="fixed-point"></field>
      <field name="selectedAmount" type="fixed-point"></field>
      <field name="comments" type="comment"></field>
      <field name="statusId" type="id"></field>
      <field name="estimatedShipDate" type="date-time"></field>
      <field name="estimatedDeliveryDate" type="date-time"></field>
      <field name="changeByUserLoginId" type="id-vlong" enable-audit-log="true"></field>
 -->


        <field name="orderId"><hidden/></field>
        <field name="orderLineSeqId"><hidden/></field>
        <field name="productId"><lookup target-form-name="LookupProduct"/></field>
        <field name="itemDescription" title="Product Description"><text size="45"></text></field>
        <field name="quantity" title="Quantity"><text size="10" ></text></field>
        <field name="unitPrice" title="Unit Price"><text size="10" ></text></field>
        <field name="deleteLink" title="${uiLabelMap.CommonDelete}" widget-style="buttontext">
                <hyperlink target="deleteSupplier" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                    <parameter param-name="orderId"/>
                </hyperlink>
        </field>
        <field name="submitButton" title="${uiLabelMap.CommonUpdate}" widget-style="buttontext"> <submit button-type="button"/></field>
    </form>

        <!--
            FindInvoices
         -->

    <form name="FindInvoices" type="single" target="purchasingInvoices"
        title="Find and list invoices"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="invoiceId"><text-find ignore-case="true"/></field>
        <field name="description"><text-find ignore-case="true"/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="INVOICE_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo" parameter-name="partyId"><lookup target-form-name="LookupPartyName"/></field>
        <field name="billingAccountId"><lookup target-form-name="LookupBillingAccount"/></field>
        <field name="invoiceDate"><date-find type="date"/></field>
        <field name="referenceNumber"><text-find/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

        <!--
            ListInvoices
         -->

    <form name="ListInvoices" type="list" separate-columns="true" title="Invoice List" list-name="listIt" target="" default-entity-name="Invoice" paginate-target="findInvoices"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <set field="parameters.sortField" from-field="parameters.sortField" default-value="-invoiceDate"/>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="InvoiceAndType"/>
                <field-map field-name="orderBy" from-field="parameters.sortField"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
        </actions>
        <row-actions>
            <service service-name="getPartyNameForDate" result-map="partyNameResultFrom">
                <field-map field-name="partyId" from-field="partyIdFrom"/>
                <field-map field-name="compareDate" from-field="invoiceDate"/>
                <field-map field-name="lastNameFirst" value="Y"/>
            </service>
            <service service-name="getPartyNameForDate" result-map="partyNameResultTo">
                <field-map field-name="partyId" from-field="partyId"/>
                <field-map field-name="compareDate" from-field="invoiceDate"/>
                <field-map field-name="lastNameFirst" value="Y"/>
            </service>
            <set field="amountToApply" value="${bsh:org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceNotApplied(delegator,invoiceId)
                .multiply(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceCurrencyConversionRate(delegator,invoiceId))}"/>
            <set field="total" value="${bsh:org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(delegator,invoiceId)
                .multiply(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceCurrencyConversionRate(delegator,invoiceId))}"/>
            <set field="currencyUomId" from-field="defaultOrganizationPartyCurrencyUomId"/>
        </row-actions>

        <field name="invoiceId" widget-style="buttontext" sort-field="true">
            <hyperlink description="${invoiceId}" target="invoiceOverview">
                <parameter param-name="invoiceId"/>
            </hyperlink>
        </field>
        <field name="invoiceTypeId" sort-field="true"><display-entity entity-name="InvoiceType"/></field>
        <field name="invoiceDate" sort-field="true"><display/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" sort-field="true"><display-entity entity-name="StatusItem"/></field>
        <field name="description" sort-field="true"><display/></field>
        <field name="partyIdFrom" title="${uiLabelMap.AccountingFromParty}" sort-field="true">
            <hyperlink target="/partymgr/control/PartyFinancialHistory" target-type="inter-app" description="${partyNameResultFrom.fullName} [${partyIdFrom}]">
                <parameter param-name="partyId" from-field="partyIdFrom"/>
            </hyperlink>
        </field>
        <field name="partyIdTo" title="${uiLabelMap.AccountingToParty}" parameter-name="partyId">
            <hyperlink target="/partymgr/control/PartyFinancialHistory" target-type="inter-app" description="${partyNameResultTo.fullName} [${partyId}]">
                <parameter param-name="partyId"/>
            </hyperlink>
        </field>
        <field name="total" widget-area-style="align-text"><display type="currency" currency="${currencyUomId}"/></field>
        <field name="amountToApply" widget-area-style="align-text"><display type="currency" currency="${currencyUomId}"/></field>
    </form>

    <!--
        Find Payments
     -->

    <form name="FindPayments" type="single" target="purchasingPayments"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="PaymentType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field position="1" name="amount"><text/></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="paymentGatewayResponseId"><text/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <form name="ListPayments" type="list" separate-columns="true" default-entity-name="Payment" list-name="listIt" paginate-target="findPayments" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <actions>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="PaymentAndTypeAndCreditCard"/>
                <field-map field-name="orderBy" value="effectiveDate DESC"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
        </actions>
        <row-actions>
            <set field="amountToApply" value="${bsh:org.ofbiz.accounting.payment.PaymentWorker.getPaymentNotApplied(delegator,paymentId);}"/>
        </row-actions>
        <field name="paymentId" widget-style="buttontext">
            <hyperlink description="${paymentId}" target="paymentOverview">
                <parameter param-name="paymentId"/>
            </hyperlink>
        </field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}"><display-entity entity-name="PaymentType"/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}"><display-entity entity-name="StatusItem"/></field>
        <field name="comments"><display/></field>
        <field name="partyIdFrom" title="${uiLabelMap.AccountingFromParty}">
            <display-entity entity-name="PartyNameView" key-field-name="partyId" description="${groupName}${lastName},${firstName}">
                <sub-hyperlink target="/partymgr/control/viewprofile" target-type="inter-app" description="[${partyIdFrom}]" >
                    <parameter param-name="partyId" from-field="partyIdFrom"/>
                </sub-hyperlink>
            </display-entity>
        </field>
        <field name="partyIdTo" title="${uiLabelMap.AccountingToParty}">
            <display-entity entity-name="PartyNameView" key-field-name="partyId" description="${groupName}${lastName},${firstName}">
                <sub-hyperlink target="/partymgr/control/viewprofile" target-type="inter-app" description="[${partyIdTo}]" >
                    <parameter param-name="partyId" from-field="partyIdTo"/>
                </sub-hyperlink>
            </display-entity>
        </field>
        <field name="effectiveDate"><display/></field>
        <field name="currencyUomId"><hidden/></field>
        <field name="amount"><display also-hidden="false" type="currency" currency="${currencyUomId}"/></field>
        <field name="amountToApply"><display also-hidden="false" type="currency" currency="${currencyUomId}"/></field>
    </form>

</forms>
