<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">
    <!-- The controller elements that are common to all OFBiz components
         can be found in the following xml file. A component can override the
         elements found in the common-controller.xml file. -->
    <include location="component://common/webcommon/WEB-INF/common-controller.xml"/>

    <description>ImprestManagement Component Site Configuration File</description>

    <!-- Events to run on every request before security (chains exempt) -->
    <!--
    <preprocessor>
    </preprocessor>
    -->
    <!-- Events to run on every request after all other processing (chains exempt) -->
    <!--
    <postprocessor>
        <event name="test" type="java" path="org.ofbiz.webapp.event.TestEvent" invoke="test"/>
    </postprocessor>
    -->

    <!-- Request Mappings -->
    <request-map uri="main">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="main"/>
    </request-map>

    <!-- Inprest Setup -->
    <request-map uri="accountsetup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="setup"/>
    </request-map>
    <request-map uri="perdiemsetup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="perdiemsetup"/>
    </request-map>
    <request-map uri="destinationssetup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="destinationssetup"/>
    </request-map>

    <!-- Inprest Setup CRUD Operations -->
    <request-map uri="createImprestAccount">
        <security https="true" auth="true" />
        <event type="service" invoke="createImprestAccount" />
        <response name="success" type="request-redirect-noparam" value="accountsetup" />
        <response name="error" type="view" value="setup" />
    </request-map>

    <request-map uri="UpdateImprestAccount">
        <security https="true" auth="true" />
        <event type="service" invoke="UpdateImprestAccount" />
        <response name="success" type="view" value="setup"></response>
        <response name="error" type="view" value="setup" />
    </request-map>

    <request-map uri="createImprestDestination">
        <security https="true" auth="true" />
        <event type="service" invoke="createImprestDestination" />
        <response name="success" type="request-redirect-noparam" value="destinationssetup" />
        <response name="error" type="view" value="destinationssetup" />
    </request-map>

    <request-map uri="UpdateImprestDestination">
        <security https="true" auth="true" />
        <event type="service" invoke="UpdateImprestDestination" />
        <response name="success" type="view" value="destinationssetup"></response>
        <response name="error" type="view" value="destinationssetup" />
    </request-map>

    <request-map uri="createPerDiemSetup">
        <security https="true" auth="true" />
        <event type="service" invoke="createPerDiemSetup" />
        <response name="success" type="request-redirect-noparam" value="perdiemsetup" />
        <response name="error" type="view" value="perdiemsetup" />
    </request-map>

    <request-map uri="UpdatePerDiemSetup">
        <security https="true" auth="true" />
        <event type="service" invoke="UpdatePerDiemSetup" />
        <response name="success" type="view" value="perdiemsetup"></response>
        <response name="error" type="view" value="perdiemsetup" />
    </request-map>

    <!-- Imprest Surrenderable -->
    <request-map uri="surrenderable">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="surrenderable"/>
    </request-map>
    <request-map uri="findSurrenderable">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="findSurrenderable"/>
    </request-map>
    <request-map uri="newSurrenderable">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="newSurrenderable"/>
    </request-map>
    <request-map uri="surrender">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="surrender"/>
    </request-map>
    <!-- Surrenderable CRUD Operations -->
    <request-map uri="createSurrenderable">
        <security https="true" auth="true"/>
        <event type="service" invoke="createSurrenderable"/>
        <response name="success" type="view" value="editSurrenderable"/>
        <response name="error" type="view" value="newSurrenderable"/>
    </request-map>

    <!-- Imprest Per Diem -->
    <request-map uri="perdiem">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="perdiem"/>
    </request-map>

    <!-- Imprest Petty Cash -->
    <request-map uri="pettycash">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="pettycash"/>
    </request-map>


     <request-map uri="LookupGlAccount"><security auth="true" https="true"/><response name="success" type="view" value="LookupGlAccount"/></request-map>
     <request-map uri="LookupPartyName"><security auth="true" https="true"/><response name="success" type="view" value="LookupPartyName"/></request-map>

    <!-- View Mappings -->
    <view-map name="main" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#main"/>
    <view-map name="setup" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#setup"/>
    <view-map name="perdiemsetup" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#perdiemsetup"/>
    <view-map name="destinationssetup" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#destinationssetup"/>
    <view-map name="surrenderable" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#surrenderable"/>
    <view-map name="findSurrenderable" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#findSurrenderable"/>
    <view-map name="newSurrenderable" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#newSurrenderable"/>
    <view-map name="surrender" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#surrender"/>
    <view-map name="perdiem" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#perdiem"/>
    <view-map name="pettycash" type="screen" page="component://imprestmanagement/widget/ImprestManagementScreens.xml#pettycash"/>
    <view-map name="LookupGlAccount" type="screen" page="component://accounting/widget/LookupScreens.xml#LookupGlAccount"/>
    <view-map name="LookupPartyName" type="screen" page="component://party/widget/partymgr/LookupScreens.xml#LookupPartyName"/>
</site-conf>
